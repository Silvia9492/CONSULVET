<h2 mat-dialog-title class="title">Subir imagen de perfil</h2>

<mat-dialog-content>
  <div class="upload-section" style="display: flex; flex-direction: column; align-items: center; margin-bottom: 15px;">
  <input type="file" accept="image/*" (change)="photoSelected($event)" id="fileInput" style="display: none;">
    <label for="fileInput" style="display: flex; align-items: center; gap: 8px; padding: 8px 16px; font-size: 16px; font-family: Roboto, 'Helvetica Neue', sans-serif; background-color: #f0f0f0; border-radius: 4px; cursor: pointer; transition: background-color 0.3s;">
      <mat-icon>add_photo_alternate</mat-icon>
      Seleccionar imagen
    </label>
    <p class="instructions" style="font-size: 14px; font-family: Roboto, 'Helvetica Neue', sans-serif; color: #666; text-align: center; margin-top: 10px;">
      Puedes seleccionar cualquier imagen - se redimensionará automáticamente
    </p>
  </div>

  <div *ngIf="imageChangedEvent" style="margin-top: 1rem;">
    <image-cropper
      [imageChangedEvent]="imageChangedEvent"
      [maintainAspectRatio]="true"
      [aspectRatio]="1"
      [resizeToWidth]="200"
      format="png"
      (imageCropped)="imageCropped($event)"
    ></image-cropper>
  </div>

  <div *ngIf="croppedImage" style="margin-top: 1rem;">
    <img [src]="croppedImage" alt="Preview" style="width: 100px; border-radius: 50%;" />
  </div>
</mat-dialog-content>

<mat-dialog-actions style="display: flex; justify-content: flex-end;">
  <button mat-raised-button (click)="cancelPhoto()" color="accent">Cancelar</button>
  <button mat-raised-button color="primary" [disabled]="!croppedImage" (click)="confirmPhoto()">Aceptar</button>
</mat-dialog-actions>
